<!doctype html>
	<head>
		<link rel="stylesheet" href="css/style.v2.css">
        <link rel="stylesheet" href="css/topnav.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" href="https://www.pathcheck.org/hubfs/Favicon.png">
		<title>ICAO's Visible Digital Seal</title>
	</head>
	<body>
        <div class="topnav">
            <div class="topnavContainer">
              <a class="active" href="index.html">Signers</a>
              <a href="verify.html"><span class="xs-hidden">Universal </span>Verifier</a>
              <a class="xs-hidden" href="debug.html">QR Debugger</a>
              <a class="xs-hidden" href="https://github.com/Path-Check/paper-cred-demo">Source Code</a>
              <a href="https://github.com/Path-Check/paper-cred"><span class="xs-hidden"> QR </span>Specs</a>
              <a href="http://vaccine-docs.pathcheck.org"><span class="xs-hidden">Vaccine </span>Docs</a>
              <a class="xs-hidden" href="http://pathcheck.org">About PathCheck</a>
            </div>
        </div>
      
        <div class="subnav">
            <div class="subnavContainer">
                <a href="index.v5.html">PCF<span class="xs-hidden">'s 4 QRs</span></a>
                <a href="eu.dgc.html">EU<span class="xs-hidden"> Green Pass</span></a>
                <a class="active" href="icao.html">ICAO<span class="xs-hidden"> Seals</span></a>
                <a href="cowin.html">DIVOC<span class="xs-hidden">/India</span></a>
                <a href="liberty.html">IBM/NY<span class="xs-hidden"> Excelsior</span></a>
                <a href="opencerta.html"><span class="xs-hidden">Open</span>Certa</a>
                <a href="vial.html">Vial<span class="xs-hidden"> Label</span></a>
                <a href="us.ma.id.html"><span class="xs-hidden">Mass </span>ID</a>
                <a href="banknote.html">Cash<span class="xs-hidden"> Bills</span></a>
            </div>
        </div>

        <div class="center">
            <h1>ICAO's Visible Digital Seal</h1>
            <div class="full-div">
                <div class="two-quarter">
                    <h4>Proof of Vaccination</h4>
                    <table>
                        <tr><td>Name</td><td><input id="qr-vax-pid-n" type="text" placeholder=""/></td></tr>
                        <tr><td>DoB</td><td><input id="qr-vax-pid-dob-date" type="text" placeholder=""/></td></tr>
                        <tr><td>Sex</td><td><input id="qr-vax-pid-sex" type="text" placeholder=""/></td></tr>
                        <tr><td>ID</td><td><input id="qr-vax-pid-i" type="text" placeholder=""/></td></tr>
                        <tr><td>Other ID</td><td><input id="qr-vax-pid-ai" type="text" placeholder=""/></td></tr>

                        <tr><td>UVCI</td><td><input id="qr-vax-uvci" type="text" placeholder=""/></td></tr>
                    </table>
                    <h4>Vaccine Info</h4>
                    <table>
                        <tr><td>Prophylaxis</td><td><input id="qr-vax-ve-des" type="text" placeholder=""/></td></tr>
                        <tr><td>Brand</td><td><input id="qr-vax-ve-nam" type="text" placeholder=""/></td></tr>
                        <tr><td>Disease</td><td><input id="qr-vax-ve-dis" type="text" placeholder=""/></td></tr>
                        
                        <tr><td>Date</td><td><input id="qr-vax-ve-vd-dvc-date" type="text" placeholder=""/></td></tr>
                        <tr><td>Dose #</td><td><input id="qr-vax-ve-vd-seq" type="text" placeholder=""/></td></tr>

                        <tr><td>Country</td><td><input id="qr-vax-ve-vd-ctr" type="text" placeholder=""/></td></tr>
                        <tr><td>Centre</td><td><input id="qr-vax-ve-vd-adm" type="text" placeholder=""/></td></tr>
                        <tr><td>Lot #</td><td><input id="qr-vax-ve-vd-lot" type="text" placeholder=""/></td></tr>
                        <tr><td>Next</td><td><input id="qr-vax-ve-vd-dvn-date" type="text" placeholder=""/></td></tr>
                    </table>
                </div>
                <div class="two-quarter"> 
                    <h4>Proof of Testing</h4>
                    <table>
                        <tr><td>Name</td><td><input id="qr-test-pid-n" type="text" placeholder=""/></td></tr>
                        <tr><td>DoB</td><td><input id="qr-test-pid-dob-date" type="text" placeholder=""/></td></tr>
                        <tr><td>DocType</td><td><input id="qr-test-pid-dt" type="text" placeholder=""/></td></tr>
                        <tr><td>DocNumber</td><td><input id="qr-test-pid-dn" type="text" placeholder=""/></td></tr>

                        <tr><td>UTCI</td><td><input id="qr-test-utci" type="text" placeholder=""/></td></tr>
                    </table>
                    <h4>Service Center</h4>
                    <table>
                        <tr><td>Name</td><td><input id="qr-test-sp-spn" type="text" placeholder=""/></td></tr>
                        <tr><td>Country</td><td><input id="qr-test-sp-ctr" type="text" placeholder=""/></td></tr>

                        <tr><td>Phone</td><td><input id="qr-test-sp-cd-p" type="text" placeholder=""/></td></tr>
                        <tr><td>Email</td><td><input id="qr-test-sp-cd-e" type="text" placeholder=""/></td></tr>
                        <tr><td>Address</td><td><input id="qr-test-sp-cd-a" type="text" placeholder=""/></td></tr>

                        <tr><td>Date Colect</td><td><input id="qr-test-dat-sc-date" type="text" placeholder=""/></td></tr>
                        <tr><td>Date Result</td><td><input id="qr-test-dat-ri-date" type="text" placeholder=""/></td></tr>

                        <tr><td>Test Type</td><td><input id="qr-test-tr-tc" type="text" placeholder=""/></td></tr>
                        <tr><td>Result</td><td><input id="qr-test-tr-r" type="text" placeholder=""/></td></tr>
                        <tr><td>Collec Method</td><td><input id="qr-test-tr-m" type="text" placeholder=""/></td></tr>
                        <tr><td>Optional</td><td><input id="qr-test-opt" type="text" placeholder=""/></td></tr>
                       
                    </table>
                </div>
                
                <div class="quarter">
                    <h4>CRED Credentials</h4>
                    <label for="privkey">Private Key</label><br/>
<textarea id="privkey" rows="10" style="width: 100%;">-----BEGIN EC PARAMETERS-----
BgUrgQQACg==
-----END EC PARAMETERS-----
-----BEGIN EC PRIVATE KEY-----
MHQCAQEEIPWKbSezZMY1gCpvN42yaVv76Lo47FvSsVZpQl0a5lWRoAcGBSuBBAAK
oUQDQgAE6DeIun4EgMBLUmbtjQw7DilMJ82YIvOR2jz/IK0R/F7/zXY1z+gqvFXf
DcJqR5clbAYlO9lHmvb4lsPLZHjugQ==
-----END EC PRIVATE KEY-----</textarea>
                    <br><br>
                    <label for="pubkey">Public Key</label><br/>
                    <textarea id="qr-link" rows="1" cols="30">1A9.PCF</textarea>

                    <h4>EU HC1 Credentials</h4>
                    <label for="privkey">P8 Private Key</label><br/>
<textarea id="privkeyEU" rows="10" style="width: 100%;">-----BEGIN PRIVATE KEY-----
MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgZgp3uylFeCIIXozb
ZkCkSNr4DcLDxplZ1ax/u7ndXqahRANCAARkJeqyO85dyR+UrQ5Ey8EdgLyf9Nts
CrwORAj6T68/elL19aoISQDbzaNYJjdD77XdHtd+nFGTQVpB88wPTwgb
-----END PRIVATE KEY-----</textarea>
                    <br><br>
                    <label for="pubkey">PublicKey  Certificate</label><br/>
<textarea id="pubkeyEU" rows="10" style="width: 100%;">-----BEGIN CERTIFICATE-----
MIIBYDCCAQYCEQCAG8uscdLb0ppaneNN5sB7MAoGCCqGSM49BAMCMDIxIzAhBgNV
BAMMGk5hdGlvbmFsIENTQ0Egb2YgRnJpZXNsYW5kMQswCQYDVQQGEwJGUjAeFw0y
MTA0MjcyMDQ3MDVaFw0yNjAzMTIyMDQ3MDVaMDYxJzAlBgNVBAMMHkRTQyBudW1i
ZXIgd29ya2VyIG9mIEZyaWVzbGFuZDELMAkGA1UEBhMCRlIwWTATBgcqhkjOPQIB
BggqhkjOPQMBBwNCAARkJeqyO85dyR+UrQ5Ey8EdgLyf9NtsCrwORAj6T68/elL1
9aoISQDbzaNYJjdD77XdHtd+nFGTQVpB88wPTwgbMAoGCCqGSM49BAMCA0gAMEUC
IQDvDacGFQO3tuATpoqf40CBv09nfglL3wh5wBwA1uA7lAIgZ4sOK2iaaTsFNqEN
AF7zi+d862ePRQ9Lwymr7XfwVm0=
-----END CERTIFICATE-----</textarea>
                </div>
            </div>
            <br>
            <div class="four-quarter">
                <button class="qr-btn" onclick="generateQRCodes()">Create Certificates</button>
            </div>
            <div class="four-quarter">
                <h2>PathCheck CRED-style URI</h2>
            </div>
            <div class="full-div">
                <div class="two-quarter">
                    <h4 id="qr-vax-code-label" style="display: none;">Immunization QR</h4>
                    <canvas id="qr-vax-code"></canvas><br/>
                    <h4 id="qr-vax-pdf-label" style="display: none;">PDF 417 Format</h4>
                    <canvas id="qr-vax-pdf"></canvas><br/>
                    <pre id="qr-vax-result"></pre>
                </div>
                <div class="two-quarter">
                    <h4 id="qr-test-code-label" style="display: none;">Test QR</h4>
                    <canvas id="qr-test-code"></canvas><br/>
                    <h4 id="qr-test-pdf-label" style="display: none;">PDF 417 Format</h4>
                    <canvas id="qr-test-pdf"></canvas><br/>
                    <pre id="qr-test-result"></pre>
                </div>

                <div class="quarter xs-hidden">
                    <label for="verify">Verify a QR Code</label>
                    <textarea id="qr-verify" rows="10" cols="33" placeholder="cred:type:version:signature:pubkey:payload"></textarea>
                    <br><br>
                    <button class="qr-btn" onclick="verifyQRCode()">Verify</button>
                    <br><br>
                    <pre id="qr-verify-result"></pre>
                    <pre id="qr-verify-verified"></pre>
                </div>
            </div>
            <div class="four-quarter">
                <h2>Original ICAO Model</h2>
            </div>
            <div class="full-div">
                <div class="two-quarter">
                    <h4 id="qr-vax-orig-code-label" style="display: none;">Immunization QR</h4>
                    <canvas id="qr-vax-orig-code"></canvas><br/>
                    <h4 id="qr-vax-orig-pdf-label" style="display: none;">PDF 417 Format</h4>
                    <canvas id="qr-vax-orig-pdf"></canvas><br/>
                    <pre id="qr-vax-orig-result"></pre>
                </div>
                <div class="two-quarter">
                    <h4 id="qr-test-orig-code-label" style="display: none;">Test QR</h4>
                    <canvas id="qr-test-orig-code"></canvas><br/>
                    <h4 id="qr-test-orig-pdf-label" style="display: none;">PDF 417 Format</h4>
                    <canvas id="qr-test-orig-pdf"></canvas><br/>
                    <pre id="qr-test-orig-result"></pre>
                </div>

                <div class="quarter">

                </div>
            </div>
        </div>
        
        <script src="js/qrcode.min.js"></script>

        <script src="js/libbcmath.js" type="text/javascript"></script>
        <script src="js/bcmath.js" type="text/javascript"></script>
        <script src="js/pdf417.js" type="text/javascript"></script>

        <script src="js/pcf.sdk.min.js"></script>

        <script src="js/he.js"></script>
        <script src="js/ajv7.min.js"></script>
        <script src="js/json-beautify.min.js"></script>

        <script src="js/pcf-utils.js"></script>
        <script src="js/ui-utils.js"></script>

        <script src="js/eudgc.sdk.min.js"></script>

		<script>
            function e(elem) { 
                if (!document.getElementById(elem)) console.log("Not existant", elem);
                return document.getElementById(elem); 
            }

            function replacer(key, value) {
                if(value instanceof Map) {
                    return {
                    dataType: 'Map',
                    value: Array.from(value.entries()), // or with spread: value: [...value]
                    };
                } else {
                    return value;
                }
            }
            function reviver(key, value) {
                if(typeof value === 'object' && value !== null) {
                    if (value.Map) {
                        return new Map(value.Map);
                    }
                }
                return value;
            }

            function getValueArray(elemArray) {
                const fields = elemArray.map(function(elemId) {
                    if (elemId.endsWith('-date')) {
                        // Sends dates always in seconds since epoch
                        return convertDate(e(elemId).value).toString();
                    }
                    return e(elemId).value;
                })
                return fields;
            }

            function convertDate(str) {
                return new Date(str).getTime()/1000;
            }

            function clearQR(elemPrefix) {
                e(elemPrefix+'-code').getContext('2d').clearRect(0, 0, e(elemPrefix+'-code').width, e(elemPrefix+'-code').height);
                e(elemPrefix+'-result').innerHTML = "";
            }

            async function clear() {
                clearQR('qr-vax');
                clearQR('qr-test');
            }

            function signAndDisplayQR(elemPref, _type, _version, priKeyPEM, pubKeyId, payloadValueArray) {
                const t0 = performance.now();
                const uri = PCF.signAndPack(_type, _version, priKeyPEM, pubKeyId, payloadValueArray).then(uri => {
                    const t1 = performance.now();
                    PCFUtils.debugURI(uri).then( debugInfo => {
                        const params = { margin:0, width:e(elemPref+'-code').scrollWidth, errorCorrectionLevel: 'L', color: {dark: '#3654DD' }};

                        // Builds QR Element
                        QRCode.toCanvas(e(elemPref+'-code'), uri, params, function (error) {})
                        PDF417.draw(uri, e(elemPref+"-pdf"));

                        e(elemPref+"-code-label").style.display = '';
                        e(elemPref+"-pdf-label").style.display = '';

                        // Updates screen elements. 
                        e(elemPref+"-result").innerHTML= debugInfo;

                        const v0 = performance.now();
                        PCF.unpackAndVerify(uri).then(result => {
                            const v1 = performance.now();
                            UIUtils.drawVerifiedSymbol(elemPref+'-code',result);
                        });
                    });
                });
            }

            function signAndDisplayEUQR(elemPref, json, priKeyPEM, pubKeyPem) {
                const t0 = performance.now();
                EUDGC.makeCWT(json).then(cwt => {
                    EUDGC.signAndPack(cwt, pubKeyPem, priKeyPEM).then(uri => {
                        const t1 = performance.now();
                        displayEUQR(uri, elemPref, t1-t0, pubKeyPem)
                    });
                });
            }

            function displayEUQR(uri, elemPref, deltaTime, pubKeyPem) {
                const params = { margin:0, width:e(elemPref+'-code').scrollWidth, errorCorrectionLevel: 'L', color: {dark: '#3654DD' }};

                // Builds QR Element
                QRCode.toCanvas(e(elemPref+'-code'), uri, params, function (error) {})
                PDF417.draw(uri, e(elemPref+"-pdf"));

                e(elemPref+"-code-label").style.display = '';
                e(elemPref+"-pdf-label").style.display = '';

                // Updates screen elements. 
                e(elemPref+"-result").innerHTML= 
                                            "<span class='schema'>" + uri.substring(0,3) + "</span></a>:" + 
                                            "<span class='message'>" + uri.substring(4) + "</span><br>";
                
                e(elemPref+"-result").innerHTML +=
                    "<pre>HC1:<span class='message'>Payload</span></pre>"

                const v0 = performance.now();
                EUDGC.unpackAndVerify(uri, pubKeyPem).then(verified => {
                    const v1 = performance.now();
                    UIUtils.drawVerifiedSymbol(elemPref+'-code',verified);
                });
            }

            function describe(qr) {
                return qr.modules.size + "x" + qr.modules.size + " " + qrSizeBytes(qr) + " bytes ";
            }

            function qrSizeBytes(qr) {
                return Math.round((qr.modules.size*qr.modules.size)/8)
            }

            function generateQRCodes() {
                clear();

                // Where to Download the public key
                const pubKeyLink = e("qr-link").value.trim().replace("http://","");

                // PEM code of the private key
                const priKeyPEM = e('privkey').value;

                const vaccineArray = getValueArray(["qr-vax-uvci","qr-vax-pid-n","qr-vax-pid-dob-date","qr-vax-pid-sex","qr-vax-pid-i","qr-vax-pid-ai",
            "qr-vax-ve-des","qr-vax-ve-nam","qr-vax-ve-dis","qr-vax-ve-vd-dvc-date","qr-vax-ve-vd-seq","qr-vax-ve-vd-ctr",
            "qr-vax-ve-vd-adm","qr-vax-ve-vd-lot","qr-vax-ve-vd-dvn-date"]);
                signAndDisplayQR("qr-vax", "icao.vacc","1", priKeyPEM, pubKeyLink, vaccineArray);

                const testArray = getValueArray(["qr-test-utci","qr-test-pid-n","qr-test-pid-dob-date","qr-test-pid-dt","qr-test-pid-dn","qr-test-sp-spn",
                "qr-test-sp-ctr","qr-test-sp-cd-p","qr-test-sp-cd-e","qr-test-sp-cd-a","qr-test-dat-sc-date","qr-test-dat-ri-date",
                "qr-test-tr-tc","qr-test-tr-r","qr-test-tr-m","qr-test-opt"]);  
                signAndDisplayQR("qr-test", "icao.test","1", priKeyPEM, pubKeyLink, testArray);

                // PEM code of the private key
                const priKeyEUPEM = e('privkeyEU').value;
                const pubKeyEUPEM = e('pubkeyEU').value;
                
                let vax = {
                    "data": {
                        "hdr": {
                            "t": "icao.vacc",
                            "v": 1,
                            "is": "UTO"
                        },
                        "msg": {
                            "uvci": e("qr-vax-uvci").value,
                            "pid": {
                                "n": e("qr-vax-pid-n").value,
                                "dob": e("qr-vax-pid-dob-date").value,
                                "sex": e("qr-vax-pid-sex").value,
                                "i": e("qr-vax-pid-i").value,
                                "ai": e("qr-vax-pid-ai").value
                            },
                            "ve": [{
                                "des": e("qr-vax-ve-des").value,
                                "nam": e("qr-vax-ve-nam").value,
                                "dis": e("qr-vax-ve-dis").value,
                                "vd": [{
                                        "dvc": e("qr-vax-ve-vd-dvc-date").value,
                                        "seq": e("qr-vax-ve-vd-seq").value,
                                        "ctr": e("qr-vax-ve-vd-ctr").value,
                                        "adm": e("qr-vax-ve-vd-adm").value,
                                        "lot": e("qr-vax-ve-vd-lot").value,
                                        "dvn": e("qr-vax-ve-vd-dvn-date").value}
                                ]
                            }]
                        }
                    },
                    "sig": {
                        "alg": "ES256",
                        "cer": pubKeyEUPEM,
                        "sigvl": "cxfyi2vq2XJfZF7ksEkIZJtKbGrRE570..."
                    }
                };

                signAndDisplayEUQR("qr-vax-orig", vax, priKeyEUPEM, pubKeyEUPEM);

                let test = {
                    "data": {
                        "hdr": {
                            "t": "icao.test",
                            "v": 1,
                            "is": "UTO"
                        },
                        "msg": {
                            "utci": e("qr-test-utci").value,
                            "pid": {
                                "n": e("qr-test-pid-n").value,
                                "dob": e("qr-test-pid-dob-date").value,
                                "dt": e("qr-test-pid-dt").value,
                                "dn": e("qr-test-pid-dn").value
                            },
                            "sp": {
                                "spn": e("qr-test-sp-spn").value,
                                "ctr": e("qr-test-sp-ctr").value,
                                "cd": {
                                    "p": e("qr-test-sp-cd-p").value,
                                    "e": e("qr-test-sp-cd-e").value,
                                    "a": e("qr-test-sp-cd-a").value
                                }
                            },
                            "dat": {
                                "sc": e("qr-test-dat-sc-date").value,
                                "ri": e("qr-test-dat-ri-date").value 
                            },
                            "tr": {
                                "tc":  e("qr-test-tr-tc").value,
                                "r": e("qr-test-tr-r").value,
                                "m": e("qr-test-tr-m").value
                            },
                            "opt": e("qr-test-opt").value
                        }
                    },
                    "sig": {
                        "alg": "ES256",
                        "cer": pubKeyEUPEM,
                        "sigvl": "z_VZDdMvjjRkg06nYLwHt4BP_APEm3MJ..."
                    }
                };

                signAndDisplayEUQR("qr-test-orig", test, priKeyEUPEM, pubKeyEUPEM);
            }

            function getEUPayload(cwt) {
                if (cwt instanceof Map) {
                    return cwt.get(-260).get(1);
                } 
                return cwt;
            }

            function schemaValidator() {
                var ajv = new ajv7.default({strict: "log", validateFormats: false});

                let client = new XMLHttpRequest();
                client.open('GET', 'https://raw.githubusercontent.com/ehn-digital-green-development/ehn-dgc-schema/main/DGC.combined-schema.json', false);
                client.setRequestHeader("Accept", "application/vnd.github.v3+json");
                client.send();

                const schema = JSON.parse(client.response); 
                delete schema['$schema'];
                return ajv.compile(schema);
            }
            
            function verifyQRCode() {
                if (e("qr-verify").value.startsWith('CRED:')) {
                    PCFUtils.debugParseURI(e("qr-verify").value).then(result => {
                        e("qr-verify-result").innerHTML = result;
                    });
                    PCFUtils.debugVerify(e("qr-verify").value).then(debug => {
                        e('qr-verify-verified').innerHTML = debug;
                    });
                } else {
                    e("qr-verify-result").innerHTML = "Checking";
                    EUDGC.unpackAndVerify(e("qr-verify").value, e('pubkeyEU').value).then(json => {
                        const validator = schemaValidator();
                        const valid = validator(getEUPayload(json));
                        if (json) {
                            e("qr-verify-result").innerHTML = "Data: " + he.encode(beautify(json, replacer, 2, 80));
                            e('qr-verify-verified').innerHTML = "Signature Verified " + (valid? " and Schema is Valid" : " but Schema has errors " + JSON.stringify(validator.errors));
                        } else {
                            e('qr-verify-verified').innerHTML = "Could not Verify";
                        }
                    });
                }
            }
        </script>
        
        <script>
            function fillTo(str, toSize) {
                let missing = toSize - str.length;
                if (missing == 0) return str;
                return fillTo(str + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, missing), toSize);
            }

            function loadDemo() {
                e("qr-vax-uvci").value = "U32870";
                e("qr-vax-pid-n").value = "Smith Bill";
                e("qr-vax-pid-dob-date").value = "1990-01-02";
                e("qr-vax-pid-sex").value = "M";
                e("qr-vax-pid-i").value = "A1234567Z";
                e("qr-vax-pid-ai").value = "L4567890Z";

                e("qr-vax-ve-des").value = "XM68M6";
                e("qr-vax-ve-nam").value = "Comirnaty";
                e("qr-vax-ve-dis").value = "RA01.0";
                e("qr-vax-ve-vd-dvc-date").value = "2021-03-03";
                e("qr-vax-ve-vd-seq").value = "1";
                e("qr-vax-ve-vd-ctr").value = "UTO";
                e("qr-vax-ve-vd-adm").value = "RIVM";
                e("qr-vax-ve-vd-lot").value = "VC35679";
                e("qr-vax-ve-vd-dvn-date").value = "2021-03-24";
                
                e("qr-test-utci").value = "U01932";
                e("qr-test-pid-n").value = "Cook Gerald";
                e("qr-test-pid-dob-date").value = "1990-01-29";
                e("qr-test-pid-dt").value = "P";
                e("qr-test-pid-dn").value = "E1234567P";
                e("qr-test-sp-spn").value = "General Hospital";
                e("qr-test-sp-ctr").value = "UTO";
                e("qr-test-sp-cd-p").value = "+00068765432";
                e("qr-test-sp-cd-e").value = "genhosp@mail.com";
                e("qr-test-sp-cd-a").value = "12 Utopia Street";
                e("qr-test-dat-sc-date").value = "2020-12-12T12:00:00+08:00";
                e("qr-test-dat-ri-date").value = "2021-02-11T14:00:00+08:00";
                e("qr-test-tr-tc").value = "molecular(PCR)";
                e("qr-test-tr-r").value = "negative";
                e("qr-test-tr-m").value = "nasopharyngeal";
                e("qr-test-opt").value = "ID12345";
            }

            loadDemo();
        </script>

        <script>
            async function preloadKey() {
                PCF.resolveKey(e("qr-link").value);
            }
            window.onload = function() {
                preloadKey();
            }
        </script>
	</body>
</html>


